<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ page import="java.sql.*"%>
<html>
	<head>
		<title>Insert title here</title>
	</head>
	<body>
		<%
			String name = request.getParameter("name");
			String id = request.getParameter("id");
			String type = request.getParameter("select");
			Class.forName("com.mysql.cj.jdbc.Driver");
			Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/students", "root", "123456");
			PreparedStatement preparedSql = null;
			if("添加".equals(type)) {
				if("".equals(name) || "".equals(id)) {
					out.println("温馨提醒：<br>添加时，必须填写姓名（主键）。");
				}
				else {
					preparedSql = conn.prepareStatement("INSERT INTO students_for_javaweb(name, id) VALUES (?, ?)");
					preparedSql.setString(1, name); 
					preparedSql.setString(2, id); 
					preparedSql.executeUpdate();
					preparedSql.close();
					conn.close();
					out.println("成功添加一条记录！");
				}
				
			}
		%>
	</body>
</html>